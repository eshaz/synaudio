{"version":3,"names":["global","factory","this","Worker","_interopDefaultLegacy","e","default","Worker__default","simpleYenc","string","htmlCodeOverrides","Map","forEach","k","v","set","output","Uint8Array","length","byte","escaped","byteIndex","offset","startIdx","substring","parseInt","offsetReverse","i","charCodeAt","htmlOverride","get","subarray","wasmModule","WeakMap","simdWasm","String","raw","scalarWasm","SynAudio","constructor","options","_correlationSampleSize","correlationSampleSize","_initialGranularity","initialGranularity","_module","async","WebAssembly","validate","simd","then","simdSupported","compile","SynAudioWorker","module","_sourceCache","_getCorrelationSampleSize","a","b","Math","min","samplesDecoded","_getInitialGranularity","_setAudioDataOnHeap","input","heapPos","bytesPerElement","BYTES_PER_ELEMENT","floatPos","_executeAsWorker","functionName","params","source","webworkerSourceCode","self","onmessage","msg","Promise","resolve","data","_workerMethods","apply","results","postMessage","type","URL","createObjectURL","Blob","Buffer","from","toString","worker","globalThis","name","result","message","terminate","_sync","floatByteLength","Float32Array","memory","Memory","initial","channelData","instantiate","env","exports","instanceExports","Object","entries","correlate","dataArray","buffer","heapView","DataView","aPtr","value","bPtr","bestCorrelationPtr","bestSampleOffsetPtr","correlation","getFloat32","sampleOffset","getInt32","_syncWorkerConcurrent","threads","promises","lengths","maxThreads","ceil","aLength","aSplit","cutChannel","push","_syncWorker","all","bestResultIdx","bestCorrelation","_syncWorkerConcurrentMain","_instance","require","define","amd"],"sources":["synaudio.js"],"mappings":"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"}