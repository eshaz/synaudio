{"version":3,"names":["global","factory","this","Worker","t","n","e","r","Int32Array","o","s","i","c","length","Uint8Array","map","parseInt","substring","Map","forEach","set","a","l","f","g","h","p","u","DataView","buffer","getInt32","d","charCodeAt","get","m","subarray","console","error","Error","simd","async","WebAssembly","validate","wasmModule","WeakMap","wasmHeapBase","simdWasm","String","raw","scalarWasm","sharedWasm","SynAudio","constructor","options","_correlationSampleSize","correlationSampleSize","_initialGranularity","initialGranularity","_correlationThreshold","correlationThreshold","_useSharedMemory","shared","_module","_heapBase","compile","Promise","resolve","then","simdSupported","SynAudioWorker","module","heapBase","useSharedMemory","_sourceCache","_getCorrelationSampleSize","b","Math","min","samplesDecoded","_getInitialGranularity","_setAudioDataOnHeap","input","memory","heapPos","output","Float32Array","floatPos","_floatByteLength","_initWasmMemory","bArray","memoryPages","channelData","reduce","acc","_unsignedIntByteLength","_pageSize","Memory","initial","maximum","_setBaseAudioOnHeap","aPtr","_setComparisonAudioOnHeap","bPtr","bestCorrelationPtr","bestSampleOffsetPtr","_executeAsWorker","functionName","params","source","isNode","type","webworkerSourceCode","self","onmessage","msg","data","_workerMethods","apply","results","postMessage","process","versions","node","Buffer","from","toString","URL","createObjectURL","Blob","worker","globalThis","name","result","message","terminate","all","_runCorrelate","aSamplesDecoded","aChannelDataLength","bSamplesDecoded","bChannelDataLength","instantiate","env","exports","correlate","Object","entries","heapView","correlation","getFloat32","sampleOffset","getUint32","_sync","heapPosition","_syncOneToMany","threads","progressCallback","syncParameters","syncStart","syncEnd","baseOffset","max","baseSampleLength","taskIndex","activeCount","doneCount","Array","reject","runNext","currentIndex","catch","finally","_syncWorkerConcurrent","promises","lengths","maxThreads","log","round","aLength","ceil","offset","aSplit","cutChannel","push","_syncWorker","bestResultIdx","bestCorrelation","_syncWorkerConcurrentMain","BYTES_PER_ELEMENT","Uint32Array","_instance","syncWorkerConcurrent","syncWorker","sync","syncOneToMany","syncMultiple","clips","workers","graph","notify","wait","runningThreads","resetNotify","vertex","v","vertexClip","edges","Set","edgeClip","edge","correlationResult","add","parent","weighResults","localeCompare","path","cycles","detectCycle","values","has","cycleStartEdge","cycleEndEdge","keep","remove","cycleWith","delete","size","roots","traverseRoot","root","sampleOffsetFromRoot","sort","require","define","amd"],"sources":["synaudio.js"],"mappings":"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"}