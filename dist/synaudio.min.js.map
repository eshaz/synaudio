{"version":3,"names":["global","factory","this","Worker","_interopDefaultLegacy","e","default","Worker__default","simpleYenc","string","htmlCodeOverrides","Map","forEach","k","v","set","output","Uint8Array","length","byte","escaped","byteIndex","offset","startIdx","substring","parseInt","offsetReverse","i","charCodeAt","htmlOverride","get","subarray","wasmModule","WeakMap","simdWasm","String","raw","scalarWasm","SynAudio","constructor","options","_correlationSampleSize","correlationSampleSize","_initialGranularity","initialGranularity","_module","async","WebAssembly","validate","simd","then","simdSupported","compile","SynAudioWorker","module","_sourceCache","_setAudioDataOnHeap","input","heapPos","bytesPerElement","BYTES_PER_ELEMENT","floatPos","_executeAsWorker","functionName","params","source","webworkerSourceCode","self","onmessage","msg","Promise","resolve","data","_workerMethods","apply","results","postMessage","type","URL","createObjectURL","Blob","Buffer","from","toString","worker","globalThis","name","result","message","terminate","_sync","a","b","floatByteLength","Float32Array","memory","Memory","initial","samplesDecoded","channelData","instantiate","env","exports","instanceExports","Object","entries","correlate","dataArray","buffer","heapView","DataView","aPtr","value","bPtr","bestCorrelationPtr","bestSampleOffsetPtr","correlation","getFloat32","sampleOffset","getInt32","_syncWorkerConcurrent","threads","promises","lengths","maxThreads","Math","ceil","min","aLength","aSplit","cutChannel","push","_syncWorker","all","bestResultIdx","bestCorrelation","_syncWorkerConcurrentMain","_instance","require","define","amd"],"sources":["synaudio.js"],"mappings":"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"}